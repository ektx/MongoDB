##### 插入(新建)  insert()

如在数据库里插入 `name = "zwl"`;

> db.foo.insert({"name": "zwl"})

测试是否成功: 

> db.foo.find()

{ "_id" : ObjectId("5544227b4bf869a207e1398a"), "name" : "zwl" }

*插入的数据最大16MB



##### 删除文档 remove()

如,删除之前建的 foo 文档中name=‘zwl’

db.foo.remove({'name':'zwl'})



##### 删除文档中的单个内容

{ "_id" : ObjectId("554242544bf869a207e13989"), "bar" : "baz", "web" : "http://myos.me" }

删除如上的 web

1.var web = db.blog.findOne({'bar':'baz’});

2.delete web.web



#### 更新  update()

##### 使用`$set`修改器

###### 3.2.1 新加修改内容:如果存在则是更新内容,没有则是新增

> { "_id" : ObjectId("554242544bf869a207e13989"), "bar" : "baz" }

修改成:

> { "_id" : ObjectId("554242544bf869a207e13989"), "bar" : "baz", "web" : "http://myos.me" }

使用”$set”方法:

> db.blog.update({'_id':ObjectId("554242544bf869a207e13989")}, {"$set": {"web":"http://myos.me"}});

使用update默认方法:

> db.blog.update({'_id':ObjectId("554242544bf869a207e13989")}, {'bar':'baz','web':'http://myos.me'})



#####  使用”$unset”删除内容

删除之前添加的web

> db.blog.update({'bar':'baz'}, {"$unset":{"web":1}})

##### 使用 `$inc` 为数字增加或减少

为之前的数据加个数字,并设置默认大小为100

> db.blog.update({"_id" : ObjectId("554242544bf869a207e13989")}, {"$set":{'score’:100}});

然后我们让它增加100

> db.blog.update({"_id" : ObjectId("554242544bf869a207e13989")}, {"$inc":{'score':100}})

- 正数增加, 负数减少

#####  `$push` 对数组进行处理

`$push` 会对数组的末尾进行加入一个元素,要是没有就会创建一人新的数组.

我们先加个文章:

db.blog.insert({'title':'Mac Air','content':'my love ...'});

然后,我们用$push来为它追加个评论

db.blog.update({'title':'Mac Air'}, {$push: {'comments':

... {'name':'zwl', 'email':'myos@zios.com', 'content':'i love you'}}});

##### 3.6 $ne 判断如果有相应的数组则不在添加

如:如果文档中已经有了作者且是zwl,那么就不添加新的作者了

```js
db.blog.update({'authors':{'$ne’:’zwl’}}, {$push: {'authors’:’zwl’}})
—— ———— ——————             —————  ————             —————————————————
    	更新                判断    值               添加内容
```

##### 3.7  $addToSet 判断如果有相应的数组则不在添加,比$ne实用,且可以避免重复;同时可以和$each组合起来,实现多个数据的添加工作

##### 3.8 $pull 删除,删除匹配的元素



##### 3.9 更新所有数据

// 为所有用户表中的数据添加一个ico属性 最后一个true 为查找到的所有数据,false 则表示只更新找到的第一条

db.usrs.update({},{'$set':{'ico':'kings.png'}},false, true);






MongoDB 是一款为Web应用程序和互联网基础设施设计的数据库管理系统.MongoDB的数据模型和持久化策略的设计目标是提高读写吞吐量,在易于伸缩的同时还能进行自动故障转移.

## MongoDB 的主要特性

### 文档数据模型
MongoDB 的数据模型是面向文档的.

### 即时查询
即时查询(ad hoc auery):无需预先定义系统接受的查询类型.

### 二级索引
MongoDB中的二级索引是用B树(B-tree)实现的,B树索引也是大多数关系数据库的默认索引,针对多种查询做了优化,包括范围扫描和带排序子句的查询.

MongoDB里,每个集合最多可以创建64个索引.它支持能在RDBMS中找到的多种索引,升序\降序\唯一性\复合键索引,甚至地理空间索引都被支持.

### 复制
MongoDB通过称为副本集(replica set) 的拓扑结构提供了复制功能.副本集将数据分布在多台机器上以实现冗余,在服务器和网络故障时能提供自动的故障转移.除此之外,复制功能还能用于扩展数据库的读能力.如果有一个读密集型的应用程序,可以把数据库读操作分散到副本集集群中的各台机器上.

### 速度和持久性

### 数据库扩展

#### 垂直扩展或向上扩展
如果应用程序运行在单个节点上,增加磁盘IOPS(Input/Output Operations Per Second, 每秒输入输出操作)、内存和CPU通常可以暂时消除数据库的性能瓶颈,提升单一节点的硬件进行扩展称为垂直或向上扩展.

##### 特点
- 简单
- 可靠

#### 水平扩展
将数据库分布到多台普通硬件机器上称为水平扩展.

##### 特点
- 可以使用普通的机器
- 多地备份,安全性高

## MongoDB 的核心服务器和工具

- C++ 开发
- GUN-AGPL 开源协议

> GUM-AGPL
> GUN-AGPL的主要局限是,出于社区的利益,任何对源码的修改都必须公布出来.

### JavaScript Shell

### 命令行工具
- mongodump 和 mongorestore 备份和恢复数据库的标准工具.mongodump用原生的BSON格式将数据保存下来,因此最好只是用来做备份,其优势是热备时非常有用.备份后能方便的用 mongorestore 恢复.
- mongoexport 和 mongoimport 用于导入导出JSON\CSV和TSV数据,数据需要支持多种格式时很有用.mongoimport还能用于大数据的初始导入,但是在导入前顺便还要注意一下,为了能充分利用好 MongoDB 通常需要对数据模型做些调整.在这种情况下,通过使用驱动的自定义脚本来导入数据会更方便一些.
- mongosniff 这是一个网络嗅探工具,用来观察发送到数据库的操作.基本就是把网络上传输的BSON转换为易于人们阅读的Shell 语句.
- mongostat 与 iostat 类似,持续轮询 MongoDB 和系统以便提供有帮助的统计信息,包括每秒操作数(插入\查询\更新\删除等),分配的虚拟内存数量以及服务器的连接数.

